"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[819],{819:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var r=n(9439),a=n(2855),u=n(7694),c=n.n(u),s=n(2791),o=n(4420),i=n(5861),l=n(7757),h=n.n(l),p=n(3016),m=(0,a.hg)("contacts/fetchAll",function(){var e=(0,i.Z)(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.get("/contacts");case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),f=(0,a.hg)("contacts/addContacts",function(){var e=(0,i.Z)(h().mark((function e(t,n){var r,a,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,a=t.number,e.prev=1,e.next=4,p.Z.post("/contacts",{name:r,number:a});case 4:return u=e.sent,e.abrupt("return",u.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),d=(0,a.hg)("contacts/deleteContacts",function(){var e=(0,i.Z)(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.delete("/contact/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),v=n(3553),b=function(e){return e.contacts.items},x=(0,v.P1)([b,function(e){return e.filter}],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))})),j=n(184),w=(0,a.x0)(),g=(0,a.x0)(),k=function(){var e=(0,s.useState)(""),t=(0,r.Z)(e,2),n=t[0],a=t[1],u=(0,s.useState)(""),i=(0,r.Z)(u,2),l=i[0],h=i[1],p=(0,o.v9)(b),m=(0,o.I0)();if(!p.some((function(e){return e.name.toLowerCase()===n.toLowerCase()}))){m(f({name:n,number:l})),a(""),h("");var d=function(e){var t=e.currentTarget,n=t.name,r=t.value;switch(n){case"name":a(r);break;case"number":h(r);break;default:return}};return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[(0,j.jsxs)("label",{htmlFor:w,children:["Name",(0,j.jsx)("input",{type:"text",name:"name",placeholder:"name",value:n,onChange:d,pattern:"^[^\\d]+$",title:"The name should contain only letters, apostrophes, hyphens, and indents",required:!0})]}),(0,j.jsxs)("label",{htmlFor:g,children:["Number",(0,j.jsx)("input",{type:"tel",name:"number",placeholder:"number",value:l,onChange:d,pattern:"\\+\\d{11}",minlength:"12",maxlength:"12",title:"The phone number should start with + followed by 11 digits",required:!0})]}),(0,j.jsx)("button",{type:"submit",children:"Add contact "})]})})}c().Notify("".concat(n," is in use. Try another name. "))},y=function(){var e=(0,o.v9)(x),t=(0,o.I0)();return(0,j.jsx)("ul",{children:e.map((function(e){return(0,j.jsxs)("li",{children:[e.name+" : "+e.number,(0,j.jsx)("button",{type:"button",name:"delete",onClick:function(){return t(d)},children:"Delete"})]},e.id)}))})},C=n(6832),Z=n(4217);function F(){var e=(0,o.I0)(),t=(0,o.v9)(Z.xU);return(0,s.useEffect)((function(){e(m())}),[e]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("title",{children:"Your contacts"}),(0,j.jsx)(k,{}),(0,j.jsx)("div",{children:t&&(0,j.jsx)(C.a,{})})," ",(0,j.jsx)(y,{})]})}}}]);
//# sourceMappingURL=819.86a36100.chunk.js.map